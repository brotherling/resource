webpackJsonp([18],{UBBs:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={name:"assetpage",data:function(){return{parentMsg:this.$route.query.name,assetedata:[],headtdata:[],fielddata:[],SortingData:"",page:1,scloll:"true",num:"",sort:"ASM_A1_20",order:"desc",descstring:"默认排序",Imgshow:"false",menuId:this.$route.query.id,url:this.$route.query.url,saoData:null}},methods:{clicksao:function(){this.saoma(this.sous)},EnlargeImg:function(){event.stopPropagation()},renderData:function(t,s){return s[t]},showdata:function(t){var s=document.getElementById("a"+t),a=document.getElementsByClassName("pagedata");if("auto"==s.style.height)s.style.height="2.555556rem";else{for(var e=0;e<a.length;e++)a[e].style.height="2.555556rem";s.style.height="auto"}},inputsous:function(){this.page=1,this.assetedata=[],this.saoData=null,this.UploadData()},sous:function(t){void 0!=t&&(this.saoData='{"ASM_A1_20":"'+t+'"}'),this.page=1,this.assetedata=[],this.UploadData()},UploadData:function(){var t=this;this.scloll=!1,this.$http.post("/API/assetservice/GetAssetList",{menuId:this.menuId,pageNumber:this.page,pageSize:"10",sortName:this.sort,order:this.order,url:this.url,param:this.SortingData,filter:this.saoData},{emulateJSON:!0}).then(function(s){var a=JSON.parse(s.data);t.num=a.total,a.rows.forEach(function(t){this.assetedata.push(t)},t)}),this.$http.post("/API/assetservice/GetAssetTitle",{emulateJSON:!0}).then(function(s){var a=JSON.parse(s.data);t.Imgshow=!0,t.scloll=!0,t.headtdata=a})},handleScroll:function(t){var s=t.target;if(s.scrollTop+s.offsetHeight==s.scrollHeight){if(this.page+=1,this.page>this.num/10+2)return void this.$message({message:"数据已经全部加载完",type:"warning"});this.scloll&&this.UploadData()}},clickseriation:function(t){for(var s=t.target,a=document.getElementsByClassName("seriationImg"),e=s.innerText,i=void 0,n=void 0,l=0;l<a.length;l++)a[l].style.display="none";switch(s.children[0].style.display="block",e){case"编码正序":i="ASM_A1_20",n="asc";break;case"编码倒叙":i="ASM_A1_20",n="desc";break;case"使用人员":i="useUserId",n="desc";break;case"购置日期正序":i="ASM_A1_290",n="asc";break;case"购置日期倒序":i="ASM_A1_290",n="desc";break;default:i="ASM_A1_20",n="desc"}this.descstring=e,this.sort=i,this.order=n,this.sous(),this.clickLeftImg()},clickLeftImg:function(){var t=document.getElementsByClassName("seriation"),s=document.getElementById("zhezhao");"none"==t[0].style.display?(t[0].style.display="block",s.style.display="block"):(t[0].style.display="none",s.style.display="none")}},mounted:function(){void 0!=this.$route.query.saodata&&(this.saoData='{"ASM_A1_20":"'+this.$route.query.saodata+'"}'),this.UploadData(),document.getElementsByClassName("seriationImg")[0].style.display="block"},watch:{$route:function(t,s){this.parentMsg=t.query.name,this.menuId=t.query.id,this.url=t.query.url,"管辖资产查询"==t.query.name&&void 0!=t.query.saodata?this.sous(t.query.saodata):this.sous()}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"div1"},[e("v-header",{attrs:{header:t.parentMsg}}),t._v(" "),e("section",{staticClass:"assetcontent",on:{scroll:function(s){t.handleScroll(s)}}},[e("div",{staticClass:"conetenttop"},[e("div",{staticClass:"Topleft"},[t._v(t._s(this.descstring)),e("span",{staticClass:"LeftImg",on:{click:function(s){t.clickLeftImg()}}})]),t._v(" "),e("div",{staticClass:"TopRight"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:""},model:{value:t.SortingData,callback:function(s){t.SortingData=s},expression:"SortingData"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(s){t.inputsous()}},slot:"append"})],1),t._v(" "),e("img",{staticClass:"RightImg",attrs:{src:a("vKV0")},on:{click:function(s){t.clicksao()}}})],1)]),t._v(" "),e("div",{staticClass:"seriation"},[e("ul",[e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("默认排序"),e("span",{staticClass:"seriationImg"})]),t._v(" "),e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("编码正序"),e("span",{staticClass:"seriationImg"})]),t._v(" "),e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("编码倒序"),e("span",{staticClass:"seriationImg"})]),t._v(" "),e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("使用人员"),e("span",{staticClass:"seriationImg"})]),t._v(" "),e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("购置日期正序"),e("span",{staticClass:"seriationImg"})]),t._v(" "),e("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("购置日期倒序"),e("span",{staticClass:"seriationImg"})])])]),t._v(" "),e("div",{staticClass:"assetpagedata",attrs:{id:"assetpage"}},t._l(t.assetedata,function(s){return e("div",{key:s.ASM_A1_10,staticClass:"pagedata",attrs:{id:"a"+s.ASM_A1_10}},[e("ul",{on:{click:function(a){t.showdata(s.ASM_A1_10)}}},[t._l(t.headtdata,function(a,i){return e("li",{key:a.field},[e("span",{staticClass:"Amendfont"},[t._v(t._s(a.title)+":")]),e("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.renderData(a.field,s)))])])}),t._v(" "),""!=s.imgUrl?e("li",{staticClass:"lastli"},[e("span",{staticClass:"Amendfont"},[t._v("图片信息")]),t._v(" "),e("img",{directives:[{name:"preview",rawName:"v-preview",value:s.imgUrl,expression:"item.imgUrl"}],staticClass:"DataImg",attrs:{src:s.imgUrl,"preview-title-enable":"false","preview-nav-enable":"false"}})]):t._e()],2),t._v(" "),"在用"==s.ASM_A1_120?e("div",{staticClass:"showImg1"}):"在库"==s.ASM_A1_120?e("div",{staticClass:"showImg2"}):"维修"==s.ASM_A1_120?e("div",{staticClass:"showImg3"}):"借用"==s.ASM_A1_120?e("div",{staticClass:"showImg4"}):"报废"==s.ASM_A1_120?e("div",{staticClass:"showImg5"}):"待报废"==s.ASM_A1_120?e("div",{staticClass:"showImg6"}):t._e()])}))]),t._v(" "),e("div",{attrs:{id:"zhezhao"}}),t._v(" "),e("v-foot",{on:{refreshbizlines:t.clicksao}})],1)},staticRenderFns:[]};var n=a("C7Lr")(e,i,!1,function(t){a("wIKU")},null,null);s.default=n.exports},wIKU:function(t,s){}});
//# sourceMappingURL=18.2385e737b1607245da63.js.map